name: 'Puppeteer Screenshot, Timeline and GIF Action'
description: 'Take a screenshot with Puppeteer; optionally build an animated GIF from a timeline of screenshots'
branding:
  icon: 'camera'
  color: 'purple'
inputs:
  url:
    description: 'The URL to visit and screenshot'
    required: true
    default: 'http://localhost:3000'
  folder:
    description: 'The folder to save outputs in'
    required: true
    default: 'timeline'
  basename:
    description: 'Base name for screenshots (e.g., "screenshot")'
    required: true
    default: 'screenshot'
  make_gif:
    description: 'Whether to generate an animated GIF from screenshots'
    required: false
    default: 'false'
  gif_name:
    description: 'Output GIF name (e.g., "timeline.gif")'
    required: false
    default: 'timeline.gif'
  frame_duration:
    description: 'Seconds each frame is shown in the GIF (e.g., 0.083 for ~12 fps, 1 for 1 fps)'
    required: false
    default: '1'
  scale_width:
    description: 'Output width in pixels (height auto-scaled)'
    required: false
    default: '640'
  auto_screenshots:
    description: 'Whether to automatically take screenshots (true) or only when commit message contains "#screenshot" (false)'
    required: false
    default: 'true'

runs:
  using: 'docker'
  image: 'Dockerfile'
