name: 'Puppeteer Action'
description: 'Take a screenshot with Puppeteer; optionally build an animated GIF from a timeline of screenshots'
branding:
  icon: 'camera'
  color: 'purple'
inputs:
  url:
    description: 'The URL to visit and screenshot'
    required: true
    default: 'http://localhost:3000'
  folder:
    description: 'The folder to save outputs in'
    required: true
    default: 'timeline'
  basename:
    description: 'Base name for screenshots (e.g., "screenshot")'
    required: true
    default: 'screenshot'
  make_gif:
    description: 'Whether to generate an animated GIF from screenshots'
    required: false
    default: 'false'
  gif_name:
    description: 'Output GIF name (e.g., "timeline.gif")'
    required: false
    default: 'timeline.gif'
  # kept for backward compatibility; ignored if gif_name is set
  make_video:
    description: '[compat] If true, treated the same as make_gif'
    required: false
    default: 'false'
  video_name:
    description: '[compat] Used to derive gif_name if gif_name not provided'
    required: false
    default: 'timeline.mp4'
  frame_duration:
    description: 'Seconds each frame is shown in the GIF (e.g., 0.083 for ~12 fps, 1 for 1 fps)'
    required: false
    default: '1'
  scale_width:
    description: 'Output width in pixels (height auto-scaled)'
    required: false
    default: '640'

runs:
  using: 'docker'
  image: 'Dockerfile'
